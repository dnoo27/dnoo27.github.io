<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.js"></script>
</head>
<body>
    

    <div>
        <p id ="watergage"></p>
    </div>

    <!-- third try -->
    <script>
            var serviceEndpoint = 'https://waterservices.usgs.gov/nwis/iv/?format=json&sites=05428000&parameterCd=00060,00065&siteStatus=all';
            $.ajax({
              type: 'GET', 
              url: serviceEndpoint,
              dataType: 'json',
              contentType: 'json',
              headers: { 'api-key':'myKey' }
            });

    </script>

    <!-- 2nd try -->
    <!-- <script>
            function getCORS(url, success) {

                var url = "https://waterservices.usgs.gov/nwis/iv/?format=json&sites=05428000&parameterCd=00060,00065&siteStatus=all";
                var xhr = new XMLHttpRequest();
                if (!('withCredentials' in xhr)) xhr = new XDomainRequest(); // fix IE8/9
                xhr.open('GET', url);
                xhr.setRequestHeader("Content-type", "application/json");
                xhr.onload = success;
                xhr.send();
                return xhr;
            }
            
            // example request
            getCORS('https://waterservices.usgs.gov/nwis/iv/?format=json&sites=05428000&parameterCd=00060,00065&siteStatus=all', function(request){
                var response = request.currentTarget.response || request.target.responseText;
                console.log(response);
            });

    </script> -->

<!-- first try -->
    <!-- <script>
            var xmlhttp = new XMLHttpRequest();
            var url = "https://waterservices.usgs.gov/nwis/iv/?format=json&sites=05428000&parameterCd=00060,00065&siteStatus=all";
            
            xmlhttp.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {
                var myArr = JSON.parse(this.responseText);
                myFunction(myArr);
                
                }
            };
            
            xmlhttp.open("GET", url, true);
            xmlhttp.setRequestHeader("Content-type", "application/json");

            xmlhttp.send();
            
            function myFunction(arr) {
            
              // original: console.log(arr.value.timeSeries[0].values[0].value[1].value);
              console.log(arr.value.timeSeries[0].values[0].value[0].value);
            
              let x = arr.value.timeSeries[0].values[0].value[0].value;
            
              document.getElementById('watergage').innerHTML = x;
              
            }
            
            //function myFunction(arr) {
            //  var out = "";
            //  var i;
            //  for(i = 0; i < arr.length; i++) {
            //    out += '<a href="' + arr[i].url + '">' + 
            //    arr[i].display + '</a><br>';
            //  }
            //  document.getElementById("id01").innerHTML = out;
            //}
            
            </script> -->
</body>
</html>